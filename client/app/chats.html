<html><head>
    <title>chat</title>
    <link rel="stylesheet" href="app.css">
    <link rel="stylesheet" href="../bower_components/animate.css/animate.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular-material/0.11.4/angular-material.css">

    <script src="bower_components/angular/angular.js"></script>

    <script type="text/javascript" src="../bower_components/angular-animate/angular-animate.js"></script>
    <script type="text/javascript" src="../bower_components/angular-aria/angular-aria.js"></script>
    <script type="text/javascript" src="../bower_components/angular-material/angular-material.js"></script>
    <script type="text/javascript" src="../bower_components/angular-material-icons/angular-material-icons.js"></script>

    <script type="text/javascript" src="../bower_components/angular-socket-io/socket.js"></script>
    <script type="text/javascript" src="../bower_components/socket.io-client/socket.io.js"></script>

    <script src="chats.js"></script>
</head>
<body ng-app="chat" ng-controller="MainCtrl" ng-init="usernameModal()">
      <md-content>
        <md-toolbar>
            <div class="md-toolbar-tools">
                <md-button class="md-icon-button" aria-label="Settings">
              
                </md-button>
                <h2>
          <span>Game Chat</span>
        </h2>
                <span flex></span>

                <md-select placeholder="Rooms"  ng-model="room" ng-change="changeRoom(room)">
                    <md-option ng-repeat="r in rooms" value="{{r}}">{{r}}</md-option>
                </md-select>
            </div>
        </md-toolbar>
        <section>
            <md-list>
                <md-subheader class="md-primary header">Room: {{room}} <span align="right">Userame: {{username}} </span> </md-subheader>

                <md-whiteframe ng-repeat="m in messages" class="md-whiteframe-z2 message" layout layout-align="center center">
                    <md-list-item class="md-3-line">
                        <img ng-src="../assets/images/baseball.png" class="md-avatar" alt="User" />
                        <div class="md-list-item-text">
                            <h3>{{ m.username }}</h3>
                             <h3>{{ m.room }}</h3>
                            <p>{{m.message}}</p>
                        </div>
                    </md-list-item>
                </md-whiteframe>

            </md-list>
        </section>

        <div class="footer">


            <md-input-container>
                <label>Message</label>
                <textarea ng-model="message" columns="1" md-maxlength="100" ng-enter="send(message)"></textarea>

            </md-input-container>
            <md-button ng-click="send(message)"> Send message </md-button>


        </div>

    </md-content>
</body>
</html>
